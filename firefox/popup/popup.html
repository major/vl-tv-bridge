<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>VL TradingView Bridge</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <header>
      <div class="header-row">
        <h1>ğŸ“Š VL â†’ TV Bridge</h1>
        <span id="version" class="version"></span>
      </div>
      <div id="status" class="status"></div>
    </header>

    <!-- Status Section -->
    <section id="status-section" class="section hero">
      <div id="tv-status" class="tv-status">
        <span class="indicator"></span>
        <span class="text">Checking TradingView...</span>
      </div>

      <div id="chart-symbol" class="chart-symbol"></div>

      <div id="vl-status" class="vl-status">
        <span class="indicator"></span>
        <span class="text">Checking VL login...</span>
      </div>

      <div class="button-row">
        <button id="fetch-draw-btn" class="btn primary" disabled>
          ğŸ“ˆ Draw Levels
        </button>
        <button id="fetch-trades-btn" class="btn primary" disabled>
          ğŸ“ Draw Trades
        </button>
      </div>

      <button id="clear-chart-btn" class="btn secondary full-width" disabled>
        ğŸ—‘ï¸ Clear Chart
      </button>
    </section>

    <!-- Tab Navigation -->
    <div class="settings-label">âš™ï¸ Settings</div>
    <nav class="tabs">
      <button class="tab active" data-tab="levels">ğŸ“ˆ Levels</button>
      <button class="tab" data-tab="trades">ğŸ“ Trades</button>
    </nav>

    <!-- Levels Tab -->
    <div id="levels-tab" class="tab-content active">
      <div class="settings-panel">
        <div class="setting-row">
          <label for="level-count-select">Number of levels:</label>
          <select id="level-count-select" class="setting-select">
            <option value="5">5 levels</option>
            <option value="10" selected>10 levels</option>
          </select>
        </div>
        <div class="setting-row">
          <label for="year-range-select">Historical range:</label>
          <select id="year-range-select" class="setting-select">
            <option value="1">1 year</option>
            <option value="2">2 years</option>
            <option value="3">3 years</option>
            <option value="5" selected>5 years</option>
            <option value="10">10 years</option>
            <option value="15">15 years</option>
            <option value="20">20 years</option>
          </select>
        </div>
        <div class="setting-row">
          <label class="toggle">
            <input type="checkbox" id="clustering-toggle" checked>
            <span>Cluster nearby levels</span>
          </label>
        </div>
        <div class="setting-row" id="threshold-row">
          <label for="threshold-select">Cluster threshold:</label>
          <select id="threshold-select" class="setting-select">
            <option value="0.5">0.5% (tight)</option>
            <option value="1.0" selected>1.0% (default)</option>
            <option value="1.5">1.5%</option>
            <option value="2.0">2.0% (loose)</option>
            <option value="3.0">3.0% (very loose)</option>
          </select>
        </div>
        <div class="setting-row">
          <label for="line-color-input">Line color:</label>
          <input type="text" id="line-color-input" class="setting-text" value="#2962FF" placeholder="#2962FF" maxlength="7">
        </div>
        <div class="setting-row">
          <label for="line-thickness-select">Line thickness:</label>
          <select id="line-thickness-select" class="setting-select">
            <option value="1">1px (thin)</option>
            <option value="2" selected>2px (default)</option>
            <option value="3">3px (medium)</option>
            <option value="4">4px (thick)</option>
            <option value="5">5px (very thick)</option>
          </select>
        </div>
        <div class="setting-row">
          <label class="toggle">
            <input type="checkbox" id="show-dates-toggle">
            <span>Show date ranges on labels</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Trades Tab -->
    <div id="trades-tab" class="tab-content">
      <div class="settings-panel">
        <div class="setting-row">
          <label for="trade-count-select">Number of trades:</label>
          <select id="trade-count-select" class="setting-select">
            <option value="5" selected>5 trades</option>
            <option value="10">10 trades</option>
            <option value="15">15 trades</option>
            <option value="20">20 trades</option>
          </select>
        </div>
      </div>
    </div>

    <footer>
      <label class="toggle">
        <input type="checkbox" id="debug-toggle">
        <span>Debug mode</span>
      </label>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>

</html>
